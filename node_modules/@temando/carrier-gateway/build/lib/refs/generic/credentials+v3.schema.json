{
  "id": "http://carrier-gateway.temando.com/schema/generic/credentials+v3#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "A schema for representing generic API credential formats",
  "type": "object",
  "oneOf": [
    {
      "$ref": "#/definitions/usernamePasswordAuth"
    },
    {
      "$ref": "#/definitions/credentialsFTP"
    },
    {
      "$ref": "#/definitions/usernamePasswordAuthWithEndpoint"
    }
  ],
  "definitions": {
    "credentialsFTP": {
      "type": "object",
      "allOf": [{
        "$ref": "#/definitions/usernamePasswordAuth"
      }, {
        "$ref": "#/definitions/ftpParameters"
      }]
    },

    "apiEndpoint": {
      "type": "object",
      "required": ["endpoint"],
      "properties": {
        "endpoint": {
          "type": "string",
          "format": "uri"
        }
      }
    },

    "ftpParameters": {
      "type": "object",
      "required": [
        "host",
        "path"
      ],
      "properties": {
        "host": {
          "type": "string"
        },
        "path": {
          "type": "string"
        },
        "port": {
          "description": "port to connnect to server",
          "type": "number"
        },
        "secure": {
          "type": "boolean",
          "description": "Determine if the connection is secure ftp or ftp"
        }
      }
    },

    "ID4": {
      "type": "object",
      "required": ["ID4"],
      "properties": {
        "ID4": {
          "description": "A client specific four character code",
          "type": "string",
          "minLength": 4,
          "maxLength": 4
        }
      }
    },

    "usernamePasswordAuth": {
      "type": "object",
      "required": [
        "username", "password"
      ],
      "properties": {
        "username": {
          "description": "An account username",
          "type": "string"
        },
        "password": {
          "description": "A password associated with the account",
          "type": "string"
        }
      }
    },

    "usernamePasswordAuthWithEndpoint": {
      "type": "object",
      "required": [
        "username", "password"
      ],
      "properties": {
        "username": {
          "description": "An account username",
          "type": "string"
        },
        "password": {
          "description": "A password associated with the account",
          "type": "string"
        }
      },
      "allOf": [{
        "$ref": "#/definitions/apiEndpoint"
      }]
    }

  }
}
