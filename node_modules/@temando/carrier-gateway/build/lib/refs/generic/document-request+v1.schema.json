{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://carrier-gateway.temando.com/schema/generic/document-request+v1#",
  "description": "A generic document definition specifying format and size.",
  "type": "object",
  "required": ["mimeType", "size", "type"],
  "oneOf": [
    { "$ref": "#/definitions/customerInvoiceDocument" },
    { "$ref": "#/definitions/genericDocument" }
  ],
  "properties": {
    "mimeType": {
      "description": "A standard mime-type representation of the file format.",
      "type": "string",
      "enum": [
        "application/epl",
        "application/epl2",
        "application/zpl",
        "application/pdf",
        "image/png",
        "image/jpg",
        "image/gif",
        "image/bmp"
      ]
    },
    "size": {
      "description": "A standard ISO 216 paper size - https://en.wikipedia.org/wiki/ISO_216",
      "type": "string",
      "enum": [
        "A0",
        "A1",
        "A2",
        "A3",
        "A4",
        "A5",
        "A6",
        "A7",
        "A8",
        "A9",
        "A10"
      ]
    },
    "type": {
      "description": "The document type being generated",
      "type": "string",
      "enum": [
        "manifestSummary",
        "commercialInvoice",
        "customerInvoice",
        "cn22",
        "cn23",
        "packagingList",
        "packageLabels",
        "coo",
        "naf"
      ]
    },
    "data": {
      "description": "The document data as a string",
      "type": "string"
    },
    "url": {
      "description": "The URL of a document stored on a remote HTTP server",
      "type": "string",
      "format": "uri"
    }
  },
  "definitions": {
    "genericDocument": {
      "description": "The definition of a generic document, this can be extended to require custom fields.",
      "type": "object",
      "required": [
        "type"
      ],
      "properties": {
        "type": {
          "description": "The document type being generated",
          "type": "string",
          "enum": [
            "manifestSummary",
            "commercialInvoice",
            "cn22",
            "cn23",
            "packagingList",
            "packageLabels",
            "coo",
            "naf"
          ]
        }
      }
    },
    "customerInvoiceDocument": {
      "type": "object",
      "required": [
        "type",
        "invoiceNumber",
        "invoiceDate",
        "purchaseOrderNumber"
      ],
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "customerInvoice"
          ]
        },
        "invoiceNumber": {
          "description": "The shippers internal reference number for this shipment",
          "type": "string",
          "minLength": 1,
          "maxLength": 50
        },
        "invoiceDate": {
          "description": "The date the invoice was created on",
          "type": "string",
          "format": "date-time"
        },
        "purchaseOrderNumber": {
          "description": "The customers' order reference number",
          "type": "string",
          "minLength": 1,
          "maxLength": 50
        }
      }
    }
  }
}
