{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "id": "http://carrier-gateway.temando.com/schema/generic/entity+v1#",
  "description": "A generic entity object suitable for both persons and organisations",
  "type": "object",
  "properties": {
    "person": {
      "description": "A person's details",
      "type": "object",
      "required": [
        "first",
        "last"
      ],
      "properties": {
        "first": {
          "type": "string",
          "description": "Person's first name",
          "minLength": 1
        },
        "middle": {
          "type": "string",
          "description": "Person's middle name",
          "minLength": 1
        },
        "last": {
          "type": "string",
          "description": "Person's last name",
          "minLength": 1
        },
        "title": {
          "type": "string",
          "description": "Person's title",
          "minLength": 1
        }
      }
    },
    "organisation": {
      "description": "An organisation and or a departments details",
      "type": "object",
      "required": [
        "name"
      ],
      "properties": {
        "name": {
          "description": "The name of the company",
          "type": "string",
          "minLength": 1
        },
        "department": {
          "description": "A specific department of the company",
          "type": "string",
          "minLength": 1
        }
      }
    },
    "email": {
      "description": "A contactable email address",
      "type": "string",
      "minLength": 1
    },
    "fax": {
      "description": "A contactable fax number",
      "type": "string",
      "minLength": 1
    },
    "phone": {
      "oneOf": [
        {
          "$ref": "#/definitions/telephone"
        },
        {
          "description": "A list of contact numbers ordered by preference",
          "type": "array",
          "items": [
            {
              "$ref": "#/definitions/telephone"
            }
          ]
        }
      ]
    }
  },
  "definitions": {
    "telephone": {
      "description": "Telephone contact details",
      "type": "object",
      "properties": {
        "number": {
          "description": "A landline or mobile contact number",
          "type": "string",
          "minLength": 1
        },
        "type": {
          "description": "Mobile or landline",
          "type": "string",
          "enum": [
            "mobile",
            "landline"
          ]
        },
        "extension": {
          "description": "An extension code to use with the number",
          "type": "string",
          "minLength": 1
        }
      }
    }
  }
}
