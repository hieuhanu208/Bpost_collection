{
  "id": "http://carrier-gateway.temando.com/schema/quote-request+v3#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "This is the schema to request a quote from a specific carrier integration for pricing on the given shipment",
  "type": "object",
  "required": [
    "integrationId",
    "origin",
    "destination",
    "packages",
    "isDutiable"
  ],
  "allOf": [
    {
      "$ref": "http://carrier-gateway.temando.com/schema/generic/identifiable+v1#"
    },
    {
      "$ref": "http://carrier-gateway.temando.com/schema/generic/credentials+v1"
    },
    {
      "$ref": "#/definitions/quoteRequest"
    }
  ],
  "definitions": {
    "quoteRequest": {
      "properties": {
        "integrationId": {
          "description": "The identifier of the integration to you want to communicate with",
          "type": "string"
        },
        "origin": {
          "$ref": "#/definitions/address"
        },
        "destination": {
          "oneOf": [
            {
              "$ref": "#/definitions/address"
            },
            {
              "$ref": "http://carrier-gateway.temando.com/schema/generic/collection-point+v1#"
            }
          ]
        },
        "packages": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "http://carrier-gateway.temando.com/schema/generic/package+v2#"
          }
        },
        "isDutiable": {
          "type": "boolean"
        },
        "pickupAt": {
          "type": "string",
          "format": "date-time"
        },
        "expectedAt": {
          "type": "string",
          "format": "date-time"
        },
        "requiredCapabilities": {
          "$ref": "http://carrier-gateway.temando.com/schema/generic/capability+v1#"
        }
      }
    },
    "address": {
      "allOf": [{
          "$ref": "http://carrier-gateway.temando.com/schema/generic/address+v3#"
      }],
      "required": [
        "countryCode"
      ]
    }
  }
}
