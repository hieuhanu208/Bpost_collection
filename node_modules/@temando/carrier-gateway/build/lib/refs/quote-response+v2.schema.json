{
  "id": "http://carrier-gateway.temando.com/schema/quote-response+v2#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "description": "TODO:",
  "type": "object",
  "required": [
    "integrationId",
    "eligibleQuotes",
    "ineligibleQuotes"
  ],
  "properties": {
    "integrationId": {
      "description": "The identifier of the integration to you want to communicate with",
      "type": "string"
    },
    "eligibleQuotes": {
      "type": "array",
      "minItems": 0,
      "items": {
        "$ref": "#/definitions/eligibleQuote"
      }
    },
    "ineligibleQuotes": {
      "type": "array",
      "minItems": 0,
      "items": {
        "$ref": "#/definitions/ineligibleQuote"
      }
    }
  },
  "definitions": {
    "integrationId": {
      "description": "The identifier of the integration that you want to communicate with",
      "type": "string"
    },
    "eligibleQuote": {
      "type": "object",
      "required": [
        "integrationServiceId",
        "shippingTaxInclusiveCharge",
        "pricedAt"
      ],
      "properties": {
        "integrationServiceId": {
          "$ref": "#/definitions/integrationServiceId"
        },
        "serviceName": {
          "$ref": "#/definitions/serviceName"
        },
        "carrierName": {
          "$ref": "#/definitions/carrierName"
        },
        "estimatedTransitPeriod": {
          "$ref": "#/definitions/estimatedTransitPeriod"
        },
        "shippingTaxInclusiveCharge": {
          "$ref": "http://carrier-gateway.temando.com/schema/generic/money+v1#"
        },
        "pricedAt": {
          "type": "string",
          "format": "date-time"
        }
      }
    },
    "ineligibleQuote": {
      "type": "object",
      "required": [
        "reasons"
      ],
      "properties": {
        "integrationServiceId": {
          "description": "A consistent identifier within the integration that represents a unique carrier service",
          "type": "string"
        },
        "serviceName": {
          "$ref": "#/definitions/serviceName"
        },
        "carrierName": {
          "$ref": "#/definitions/carrierName"
        },
        "reasons": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "minItems": 1
        }
      }
    },
    "integrationServiceId": {
      "description": "A consistent identifier within the integration that represents a unique carrier service",
      "type": "string"
    },
    "serviceName": {
      "description": "A human understandable reference that represents a carrier service",
      "type": "string"
    },
    "carrierName": {
      "description": "A human understandable reference that represents a carrier",
      "type": "string"
    },
    "estimatedTransitPeriod": {
      "description": "A reference that represents the estimated travel time of the quote",
      "type": "object",
      "required": ["minimum", "maximum"],
      "properties": {
        "minimum": {
          "type": "string",
          "description": "An ISO 8601 duration representing the minimum travel time",
          "pattern": "^P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:(-[0-9,.]*)M)?(?:([0-9,.]*)S)?)?$"
        },
        "maximum": {
          "type": "string",
          "description": "An ISO 8601 duration representing the maximum travel time",
          "pattern": "^P(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)W)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:(-[0-9,.]*)M)?(?:([0-9,.]*)S)?)?$"
        }
      }
    }
  }
}