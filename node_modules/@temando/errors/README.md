# Temando Errors

Errors conform to [JSON API errors](http://jsonapi.org/format/#errors).

---

- [**JsonApiError**](#JsonApiError)
- [**TemandoError**](#TemandoError)
- [**BadRequestError**](#extra-errors)
- [**UnauthorizedError**](#extra-errors)
- [**ForbiddenError**](#extra-errors)
- [**NotFoundError**](#extra-errors)
- [**NotAcceptableError**](#extra-errors)
- [**UnsupportedError**](#extra-errors)
- [**ValidationError**](#extra-errors)
- [**InternalError**](#extra-errors)
- [**NotImplementedError**](#extra-errors)
- [**UnavailableError**](#extra-errors)

---

## `JsonApiError`

```js
import { JsonApiError, ValidationError } from '@temando/errors';

new JsonApiError({
  title: "Blah",
  meta: {
    stuff: [1]
  }
})
/*
  {
    title: "Blah",
    code: "InternalError",
    detail: "Internal Error",
    meta: {
      stuff: [1]
    },
    status: "500",
  }
*/

class MyFancyError extends TemandoError {
  static id = "blah"
  static code = "BlahError"
  static title = "Blah happened"
  static status = 400
}

export const handler = LambdaHttp((event, context) => {
  throw MyFancyError({ detail: ':(' })
})
  .use(Http())
```

The above will respond with:

```js
HTTP 400
{
  errors: [
    {
      title: "Blah happened",
      detail: ":(",
      code: "BlahError",
      id: "blah",
      status: "400",
    }
  ]
}

```

## `TemandoError`

`TemandoError` is an alias to `JsonApiError`

## Extra errors

```js
// Temando Error
export class TemandoError extends JsonApiError {}

// 400 Bad Request
export class BadRequestError extends TemandoError {
  static status: '400'
  static code: 'BadRequestError'
  static title: 'Bad Request'
}

// 401 Unauthorized
export class UnauthorizedError extends TemandoError {
  static status: '401'
  static code: 'Unauthorized'
  static title: 'Unauthorized'
}

// 403 Forbidden
export class ForbiddenError extends TemandoError {
  static status: '403'
  static code: 'Forbidden'
  static title: 'Forbidden'
}

// 404 Not Found
export class NotFoundError extends TemandoError {
  static status: '404'
  static code: 'NotFoundError'
  static title: 'Not Found'
}

// 406 Not Acceptable Content
export class NotAcceptableError extends TemandoError {
  static status: '406'
  static code: 'NotAcceptableError'
  static title: 'Not Acceptable Content'
}

// 415 Unsupported Media Type
export class UnsupportedError extends TemandoError {
  static status: '415'
  static code: 'UnsupportedError'
  static title: 'Unsupported Media Type'
}

// 422 Validation Error
export class ValidationError extends TemandoError {
  static status: '422'
  static code: 'ValidationError'
  static title: 'Validation Error'
  static meta: { validation: Array<string|Object> }
}

// 500 Internal Error
export class InternalError extends TemandoError {}

// 501 Not Implemented
export class NotImplementedError extends InternalError {
  static status: '501'
  static code: 'NotImplementedError'
  static title: 'Not Implemented'
}

// 503 Unavailable
export class UnavailableError extends InternalError {
  static status: '503'
  static code: 'UnavailableError'
  static title: 'Unavailable'
}
```
