{
  "workflow": {
    "id": "workflow.carrier.registration.auspost",
    "title": {
      "messageKey": "workflow.registerCarrier.title"
    },
    "steps": [
      {
        "id": "step.existingChoice",
        "type": "binaryChoice",
        "title": {
          "messageKey": "workflow.registerCarrier.hasExisting.question"
        },
        "next": [
          {
            "value": true,
            "label": {
              "messageKey": "ui.common.yes"
            },
            "stepId": "step.apiKeyChoice"
          },
          {
            "value": false,
            "label": {
              "messageKey": "ui.common.no"
            },
            "stepId": "step.goCreate"
          }
        ]
      },
      {
        "id": "step.apiKeyChoice",
        "type": "binaryChoice",
        "title": {
          "messageKey": "workflow.registerCarrier.hasApiKey.question"
        },
        "next": [
          {
            "value": true,
            "label": {
              "messageKey": "ui.common.yes"
            },
            "stepId": "step.apiKeyActivation"
          },
          {
            "value": false,
            "label": {
              "messageKey": "ui.common.no"
            },
            "stepId": "step.manualActivation"
          }
        ]
      },
      {
        "id": "step.apiKeyActivation",
        "title": {
          "messageKey": "workflow.registerAuspost.apiKeyActivation.title"
        },
        "type": "form",
        "form": {
          "controlSets": [
            {
              "id": "billingAddress",
              "controls": [
                {
                  "id": "billingAddress.city",
                  "ref": "#/billingAddress/city",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.city.label"
                  }
                },
                {
                  "id": "billingAddress.stateProvinceRegion",
                  "ref": "#/billingAddress/state",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.stateProvinceRegion.label"
                  }
                },
                {
                  "id": "billingAddress.zip",
                  "ref": "#/billingAddress/zip",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.zipcode.label"
                  }
                }
              ]
            }
          ],
          "httpRequest": {
            "url": "https://...",
            "method": "POST"
          }
        },
        "next": [
          {
            "stepId": "step.activationSubmitted",
            "label": {
              "messageKey": "ui.submitButton.label"
            }
          }
        ]
      },
      {
        "id": "step.manualActivation",
        "title": {
          "messageKey": "workflow.registerAuspost.manualActivation.title"
        },
        "type": "form",
        "form": {
          "controlSets": [
            {
              "id": "billingAddress",
              "controls": [
                {
                  "id": "billingAddress.city",
                  "ref": "#/billingAddress/city",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.city.label"
                  }
                },
                {
                  "id": "billingAddress.stateProvinceRegion",
                  "ref": "#/billingAddress/state",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.stateProvinceRegion.label"
                  }
                },
                {
                  "id": "billingAddress.zip",
                  "ref": "#/billingAddress/zip",
                  "type": "text",
                  "title": {
                    "messageKey": "form.billingAddress.zipcode.label"
                  }
                }
              ]
            }
          ],
          "httpRequest": {
            "url": "https://...",
            "method": "POST"
          }
        },
        "next": [
          {
            "stepId": "step.activationSubmitted",
            "label": {
              "messageKey": "ui.submitButton.label"
            }
          }
        ]
      },
      {
        "id": "step.goCreate",
        "type": "notice",
        "title": {
          "messageKey": "workflow.registerAuspost.goCreate.title"
        },
        "notice": {
          "messageKey": "workflow.registerAuspost.goCreate.notice"
        },
        "next": [
          {
            "stepId": "apiKeyActivation",
            "label": {
              "messageKey": "workflow.registerAuspost.linkNewApiKey"
            }
          },
          {
            "done": true,
            "label": {
              "messageKey": "ui.doneButton.label"
            }
          }
        ]
      },
      {
        "id": "step.activationSubmitted",
        "type": "notice",
        "title": {
          "messageKey": "ui.common.completed"
        },
        "notice": {
          "messageKey": "workflow.registerAuspost.activationSubmitted.notice"
        },
        "next": [
          {
            "done": true,
            "label": {
              "messageKey": "ui.doneButton.label"
            }
          }
        ]
      }
    ]
  },
  "included": {
    "messages": {
      "ui.doneButton.label": "Done",
      "workflow.registerAuspost.activationSubmitted.notice": "Your Australia Post activation has been submitted."
    }
  }
}
