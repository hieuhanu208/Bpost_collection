# Serverless Temando Carrier Service Plugin

A Serverless plugin that published carrier integration information to the Carrier Service

## Prerequisites

- Serverless 0.5.x or Serverless 1.x.x.
- A Carrier Integration with an `integration` and `marco` registration endpoint as specified in this guide:
https://src.temando.io/carrier-framework/carrier-gateway/blob/master/resources/Integrators-Guide-to-Gateway.md
- The Carrier Integration itself must also be registered into service registry and have `temando-carrier-service` within its ts-definition file
- The Temando Carrier Service (below) must be successfully deployed into the AWS environment the carrier is being deployed to
  `git@src.temando.io:temando-services/carrier-service.git`

## Installation
```sh
$ yarn add --dev @temando/serverless-temando-carrier-service
```

For Serverless `0.5.*`:
  - Add `@temando/serverless-temando-carrier-service` to the plugins array in your Serverless project's `s-project.json` file.
For Serverless `1.*.*`:
  - Add `@temando/serverless-temando-carrier-service` to the plugins array in your Serverless project's `serverless.yml` file.

## Usage

```sh
$ serverless carrier-service publish -s $STAGE -r $DEPLOYMENT_REGION
```

### Parameters

Please ensure you specify the following parameters:

- `-s, --stage`: Name of the API Gateway stage you wish to update the registry from (required)
- `-r, --region`: Name of the API Gateway region you wish to update the registry from (required)
