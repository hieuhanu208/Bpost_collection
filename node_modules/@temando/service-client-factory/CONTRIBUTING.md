# Contributing to Temando Service Client

## Issue Contributions
When opening issues or commenting on existing issues, please make sure all discussions are related to concrete technical issues with Temando Service Client.

- For general help on using the library, please post a message on our [#nodejs](https://temando.slack.com/messages/nodejs/) channel on Slack or your team slack channel. Alternatively you can contact the project collaborators directly for direction.
- If appropriate raise an appropriate JIRA ticket after discussing with your team architect.

## Code Contributions

This section will guide you through the contribution process.

## Step 1: Fork

[Fork](https://src.temando.io/service-registry/service-client-factory/forks/new) the project on Gitlab and clone your fork locally.

```bash
git clone git@src.temando.io:username/service-client-factory.git
cd service-client-factory
git remote add upstream git@src.temando.io:service-registry/service-client-factory.git
```

### Which branch?

For developing new features and bug fixes, the `master` branch should be pulled and built upon.

## Step 2: Branch

Create a branch and start hacking:

```bash
git checkout -b my-branch -t origin/master
```

## Step 3: Commit

Make sure git knows your name and email address:

```
git config --global user.name "J. Random User"
git config --global user.email "j.random.user@example.com"
```

Add and commit:

```
git add my/changed/files
git commit
```

## Step 4: Rebase or Merge

Either option for using `git rebase` or `git merge` is fine on your own local branch to synchronise your work with the main repository.

If maintaining the root project (upstream), always use merge.

Rebase:

```bash
git fetch upstream
git rebase upstream/master
```

Merge:

```bash
git merge master feature-branch
```

## Step 5: Test

Bug fixes and features should come with tests. Add your relevant test in `__tests__` subfolder alongside the code directory you are modifying.

Additionally you should test against the built version of the library as well as run standard unit tests.

Run tests on un-built code:

```bash
yarn test:unit
```

Run tests on the built library:

```bash
yarn build
yarn test:unit:dist
```

This will make sure that the tests pass against the compiled version of the code.

Any code you write should follow the TS Lint rules as attached in this project. To verify your code meets the standard run the following:

```bash
yarn lint
```

## Step 8: Update the change log

Be sure to update the `CHANGELOG.md` file with your changes under the `Unreleased` section. The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/).

## Step 7: Push

```bash
git push origin my-branch
```

## Step 8: Submit a merge request

Once your code is ready for peer review, make sure that it passes your fork's configured pipeline CI run.

Then create a merge request by visiting your fork's Gitlab page:

ie. https://src.temando.io/`<username>`/service-client-factory/merge_requests/new

Submit a merge request using the [merge request template](.gitlab/merge_request_templates/MERGEREQUEST.md), and inform the owner of the project or your team architect to have it reviewed.

You may receive feedback on your merge request from the appropriate stakeholders. If so, please push the changes to your branch while your merge request is still open.  Once they have been completed, your project will be ready for merging.

## Step 9: You're done!

Enjoy having made a contribution to this project :)
