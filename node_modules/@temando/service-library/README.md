# Temando Service Library

[![build status](https://src.temando.io/service-library/temando-service-library/badges/master/build.svg)](https://src.temando.io/service-library/temando-service-library/commits/master) [![coverage report](https://src.temando.io/service-library/temando-service-library/badges/master/coverage.svg)](https://src.temando.io/service-library/temando-service-library/commits/master)

The library for all your _**micro service**_ needs. :ok_hand:

---

- [TypeScript Definition](src/index.d.ts) :blue_book: _Overview of full exposed API_
- [Handlers](docs/Handlers.md)
    - `@temando/service-library/handlers`
    - [**handlers**](docs/Handlers.md#handlers)
        - [**Lambda**](docs/Handlers.md#lambda)
        - [**LambdaHttp**](docs/Handlers.md#lambdahttp)
        - [**LambdaBatch**](docs/Handlers.md#lambdabatch)
- [Helpers](docs/Helpers.md)
    - `@temando/service-library/helpers`
    - [**helpers**](docs/Helpers.md#helpers)
        - [**generateSearchableIndexes**](docs/Helpers.md#generateSearchableIndexes)
- [Middleware](docs/Middlewares.md)
    - `@temando/service-library/middlewares`
    - [**middlewares**](docs/Middlewares.md#middlewares)
        - [**JsonApi**](docs/Middlewares.md#jsonApi)
        - [**Instrumentation**](docs/Middlewares.md#instrumentation)
        - [**Billing**](docs/Middlewares.md#billing)
        - [**AddStorageLibrary**](docs/Middlewares.md#storage)
        - [**SearchFilter**](docs/Middlewares.md#searchfilter)
        - [**ParseRequest**](docs/Middlewares.md#parserequest)
        - [**AddServiceClientFactory**](docs/Middlewares.md#addserviceclientfactory)
        - [**Kinesis**](docs/Middlewares.md#kinesis)
- [Schema](docs/Schema.md)
    - `@temando/service-library/schema`
    - [**SchemaValidator**](docs/Schema.md#schemaValidator)
    - [**JsonApiErrorJsonSchema**](docs/Schema.md#jsonApiErrorJsonSchema)
- [Errors](docs/Errors.md)
    - `@temando/service-library/errors`
    - [**TemandoError**](docs/Errors.md#jsonapierror)
    - [**JsonApiError**](docs/Errors.md#jsonapierror)
- Framework
    - `@temando/service-library/framework`
        - **Mediator**
        - **MiddlewareInterface**
        - **Event**

_(Note: **Bold** items are **exported**)_

---

## Installation

```
yarn add @temando/service-library
```

## Overview

```js
import { LambdaHttp } from '@temando/service-library/handlers';
import { Http, JsonApi } from '@temando/service-library/middlewares';

export const handler = LambdaHttp((event) => {
  const {
    request: { headers, params, body, method },
    context: rawLambdaContext,
    event: rawLambdaEvent
  } = event;

  // ... do stuff ...

  return { statusCode: 201 };
})
  .use(Http())
  .use(JsonApi())
```
