"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * This middleware prepares the `event` with extra properties:
 *
 * - `event.accountId`
 * - `event.sovereignty`
 * - `event.origin`
 * - `event.code`
 *
 * Integrates with:
 * - `Http` middleware
 */
function ParseRequest({ tsDefinition }) {
    return (m) => {
        m.on('http.request::before', (event) => {
            const { request: { headers }, } = event;
            event.accountId = headers['account-id'];
            event.sovereignty = headers.sovereignty;
            event.origin = tsDefinition.id;
            event.code = headers.code;
        });
    };
}
exports.ParseRequest = ParseRequest;
//# sourceMappingURL=ParseRequest.js.map